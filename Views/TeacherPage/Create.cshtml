@model SchoolApi.Models.Teacher

@{
    ViewData["Title"] = "Add Teacher";
}

<h1>Add Teacher</h1>

<form id="createTeacherForm" method="POST" action="http://localhost:5199/api/TeacherAPI">
    <label for="TeacherFname">First Name:</label>
    <input type="text" id="TeacherFname" name="TeacherFname" required><br><br>

    <label for="TeacherLname">Last Name:</label>
    <input type="text" id="TeacherLname" name="TeacherLname" required><br><br>

    <label for="TeacherWorkPhone">Teacher Work Phone:</label>
    <input type="text" id="TeacherWorkPhone" name="TeacherWorkPhone" required><br><br>

    <label for="EmployeeNumber">Employee Number:</label>
    <input type="text" id="EmployeeNumber" name="EmployeeNumber" required><br><br>

    <label for="HireDate">Hire Date:</label>
    <input type="date" id="HireDate" name="HireDate" required><br><br>

    <label for="Salary">Salary:</label>
    <input type="number" id="Salary" name="Salary" required><br><br>

    <button type="submit">Create Teacher</button>
</form>

<script>
    document.getElementById("createTeacherForm").addEventListener("submit", async function (event) {
        event.preventDefault();

        const teacherData = {
            TeacherFname: document.getElementById("TeacherFname").value,
            TeacherLname: document.getElementById("TeacherLname").value,
            TeacherWorkPhone: document.getElementById("TeacherWorkPhone").value,
            EmployeeNumber: document.getElementById("EmployeeNumber").value,
            HireDate: document.getElementById("HireDate").value,
            Salary: document.getElementById("Salary").value
        };

        const response = await fetch('http://localhost:5199/api/TeacherAPI', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(teacherData)
        });

        if (response.ok) {
            alert('Teacher added successfully!');
        } else {
            alert('Failed to add teacher!');
        }
    });
</script>
